# Skriptum (DjVu)

Skriptum - это система управления документами и бизнес-процессами, разработанная с использованием Django (бэкенд) и Vue.js (фронтенд). Система предоставляет возможности для создания, редактирования и управления документами, задачами и бизнес-процессами с поддержкой BPMN-диаграмм.

## Содержание

- [Обзор](#обзор)
- [Функциональные возможности](#функциональные-возможности)
- [Технологический стек](#технологический-стек)
- [Структура проекта](#структура-проекта)
- [Установка и запуск](#установка-и-запуск)
  - [Бэкенд (Django)](#бэкенд-django)
  - [Фронтенд (Vue.js)](#фронтенд-vuejs)
- [API](#api)
- [Основные компоненты](#основные-компоненты)
- [Авторизация и аутентификация](#авторизация-и-аутентификация)

## Обзор

Skriptum - это комплексное решение для управления документами и бизнес-процессами, которое позволяет пользователям создавать, редактировать и управлять документами с помощью встроенного редактора CKEditor, отслеживать версии документов, управлять задачами и бизнес-процессами, а также создавать и редактировать BPMN-диаграммы.

## Функциональные возможности

- **Управление документами**:
  - Создание и редактирование документов с помощью CKEditor
  - Загрузка и хранение файлов различных форматов
  - Контроль версий документов
  - Восстановление предыдущих версий документов

- **Управление задачами**:
  - Создание и назначение задач
  - Отслеживание статуса и приоритета задач
  - Установка сроков выполнения

- **Управление бизнес-процессами**:
  - Создание и редактирование BPMN-диаграмм
  - Отслеживание прогресса выполнения процессов
  - Управление участниками процессов

- **Пользовательский интерфейс**:
  - Адаптивный дизайн
  - Панель управления с основными метриками
  - Глобальный поиск
  - Уведомления

## Технологический стек

### Бэкенд

- **Django** - основной фреймворк для разработки бэкенда
- **Django REST Framework** - для создания RESTful API
- **Djoser** - для аутентификации и авторизации
- **PostgreSQL** - база данных
- **Django CKEditor 5** - для редактирования документов

### Фронтенд

- **Vue.js 3** - основной фреймворк для разработки фронтенда
- **Vue Router** - для маршрутизации
- **Axios** - для HTTP-запросов
- **CKEditor 5** - для редактирования документов
- **BPMN.js** - для создания и редактирования BPMN-диаграмм

## Структура проекта

```
DjVu/
├── dip/                   # Директория бэкенда (Django)
│   ├── dip/               # Основной модуль проекта
│   │   ├── settings.py    # Настройки проекта
│   │   ├── urls.py        # Основные URL-маршруты
│   │   └── wsgi.py        # WSGI-конфигурация
│   ├── myapp/             # Основное приложение
│   │   ├── models.py      # Модели данных
│   │   ├── views.py       # Представления API
│   │   ├── serializers.py # Сериализаторы
│   │   └── urls.py        # URL-маршруты API
│   ├── media/             # Медиа-файлы
│   └── manage.py          # Скрипт управления Django
├── front/                 # Директория фронтенда (Vue.js)
│   ├── public/            # Публичные файлы
│   ├── src/               # Исходный код
│   │   ├── api/           # API-сервисы
│   │   ├── assets/        # Статические ресурсы
│   │   ├── components/    # Компоненты Vue
│   │   ├── views/         # Представления Vue
│   │   ├── App.vue        # Корневой компонент
│   │   ├── main.js        # Точка входа
│   │   └── router.js      # Маршрутизация
│   ├── package.json       # Зависимости NPM
│   └── vue.config.js      # Конфигурация Vue
├── .venv/                 # Виртуальное окружение Python
└── requirements.txt       # Зависимости Python
```

## Установка и запуск

### Бэкенд (Django)

1. Клонируйте репозиторий:
   ```bash
   git clone <repository-url>
   cd DjVu
   ```

2. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv .venv
   .venv\Scripts\activate  # для Windows
   # source .venv/bin/activate  # для Linux/Mac
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Настройте базу данных PostgreSQL:
   - Создайте базу данных `skriptum`
   - Настройте параметры подключения в `dip/dip/settings.py`

5. Примените миграции:
   ```bash
   cd dip
   python manage.py migrate
   ```

6. Создайте суперпользователя:
   ```bash
   python manage.py createsuperuser
   ```

7. Запустите сервер разработки:
   ```bash
   python manage.py runserver
   ```

### Фронтенд (Vue.js)

1. Перейдите в директорию фронтенда:
   ```bash
   cd front
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

3. Запустите сервер разработки:
   ```bash
   npm run serve
   ```

4. Для сборки проекта:
   ```bash
   npm run build
   ```

## API

Система предоставляет RESTful API для взаимодействия с бэкендом. Основные эндпоинты:

- `/api/documents/` - управление документами
- `/api/processes/` - управление бизнес-процессами
- `/api/tasks/` - управление задачами
- `/api/users/` - управление пользователями
- `/api/bpmn-diagrams/` - управление BPMN-диаграммами

Для аутентификации используется JWT-токены:

- `/auth/jwt/create/` - получение токена
- `/auth/users/` - регистрация пользователя
- `/auth/users/me/` - получение информации о текущем пользователе

## Основные компоненты

### Модели данных

- `User` и `UserProfile` - пользователи и их профили
- `Document` - документы с поддержкой CKEditor
- `DocumentHistory` - история версий документов
- `Process` - бизнес-процессы
- `Task` - задачи
- `BpmnDiagram` - BPMN-диаграммы

### Фронтенд-компоненты

- Панель управления (Dashboard)
- Редактор документов с CKEditor
- Управление задачами
- Управление процессами
- BPMN-редактор

## Авторизация и аутентификация

Система использует JWT-токены для аутентификации пользователей. Токены хранятся в localStorage или sessionStorage браузера и автоматически добавляются к каждому запросу к API.

Для регистрации новых пользователей используется Djoser, который предоставляет готовые эндпоинты для регистрации, входа и управления пользователями.

![загрузка](https://github.com/user-attachments/assets/5bf9316f-bbfe-4bbe-b942-4e50daa04f51)


